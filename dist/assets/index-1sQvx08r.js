const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/year_2012-B3EfpIDh.js","assets/vendors-B31rpEQT.js","assets/year_2013-RrpCShpa.js","assets/year_2014-a8NblMd9.js","assets/year_2015-tf7tOE5P.js","assets/year_2016-HUfxiEcv.js","assets/year_2017-C5AWJ-X1.js","assets/year_2018-DmSTx2zX.js","assets/year_2019-io5qw2fE.js","assets/year_2020-CxIGuOtu.js","assets/year_2021-DS8KB1K7.js","assets/year_2022-s6E-XXbA.js","assets/year_2023-BIRscfPe.js","assets/year_2024-nHZQNmG2.js","assets/year_2025-CKEWEByM.js","assets/github.svg-DS9MqaAB.js","assets/grid.svg-Ds9sMkrv.js","assets/mol.svg-3bH64vWV.js"])))=>i.map(i=>d[i]);
var Ae=Object.defineProperty;var De=(e,c,n)=>c in e?Ae(e,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[c]=n;var $=(e,c,n)=>De(e,typeof c!="symbol"?c+"":c,n);import{j as t,L as Oe,P as Fe,H as Le,W as Pe,p as $e,e as le,r as a,_ as I,M as fe,a as He,S as _e,b as ee,F as Ge,N as Ve,u as Ye,R as Be,B as Ue,C as We,X as ze,Y as qe,T as Ke,c as Xe,d as Je,f as Ze,g as Qe,h as et,i as tt}from"./vendors-B31rpEQT.js";import{a as te}from"./activities-Ce30gsms.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const v of s.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const nt=()=>{const e="/";return e==="/"?"":e},ct={siteTitle:"Running Page",siteUrl:"https://yihong.run",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQTtc69JxHNcmN1ETpMUX4dozAgAN6iPjWalQ&usqp=CAU",description:"Personal site and blog",navLinks:[{name:"Summary",url:`${nt()}/summary`},{name:"Blog",url:"https://github.com/yihong0618/gitblog"},{name:"About",url:"https://github.com/yihong0618/running_page/blob/master/README-CN.md"}]},ce=()=>ct,ot=()=>{const{logo:e,siteUrl:c,navLinks:n}=ce();return t.jsx(t.Fragment,{children:t.jsxs("nav",{className:"mx-auto mt-12 flex w-full min-w-max max-w-screen-2xl items-center justify-between pl-6 lg:px-16",children:[t.jsx("div",{className:"w-1/4",children:t.jsx(Oe,{to:c,children:t.jsx("picture",{children:t.jsx("img",{className:"h-16 w-16 rounded-full",alt:"logo",src:e})})})}),t.jsx("div",{className:"w-3/4 text-right",children:n.map((i,o)=>t.jsx("a",{href:i.url,className:"mr-3 text-lg lg:mr-4 lg:text-base",children:i.name},o))})]})})},ve=({children:e})=>{const{siteTitle:c,description:n}=ce();return t.jsxs(t.Fragment,{children:[t.jsxs(Le,{children:[t.jsx("html",{lang:"en","data-theme":"dark"}),t.jsx("title",{children:c}),t.jsx("meta",{name:"description",content:n}),t.jsx("meta",{name:"keywords",content:"running"}),t.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"})]}),t.jsx(ot,{}),t.jsx("div",{className:"mx-auto mb-16 max-w-screen-2xl p-4 lg:flex lg:p-16",children:e})]})};ve.propTypes={children:Fe.node.isRequired};const it=[{code:"130100",name:"石家庄市",province:"13",city:"01"},{code:"130200",name:"唐山市",province:"13",city:"02"},{code:"130300",name:"秦皇岛市",province:"13",city:"03"},{code:"130400",name:"邯郸市",province:"13",city:"04"},{code:"130500",name:"邢台市",province:"13",city:"05"},{code:"130600",name:"保定市",province:"13",city:"06"},{code:"130700",name:"张家口市",province:"13",city:"07"},{code:"130800",name:"承德市",province:"13",city:"08"},{code:"130900",name:"沧州市",province:"13",city:"09"},{code:"131000",name:"廊坊市",province:"13",city:"10"},{code:"131100",name:"衡水市",province:"13",city:"11"},{code:"140100",name:"太原市",province:"14",city:"01"},{code:"140200",name:"大同市",province:"14",city:"02"},{code:"140300",name:"阳泉市",province:"14",city:"03"},{code:"140400",name:"长治市",province:"14",city:"04"},{code:"140500",name:"晋城市",province:"14",city:"05"},{code:"140600",name:"朔州市",province:"14",city:"06"},{code:"140700",name:"晋中市",province:"14",city:"07"},{code:"140800",name:"运城市",province:"14",city:"08"},{code:"140900",name:"忻州市",province:"14",city:"09"},{code:"141000",name:"临汾市",province:"14",city:"10"},{code:"141100",name:"吕梁市",province:"14",city:"11"},{code:"150100",name:"呼和浩特市",province:"15",city:"01"},{code:"150200",name:"包头市",province:"15",city:"02"},{code:"150300",name:"乌海市",province:"15",city:"03"},{code:"150400",name:"赤峰市",province:"15",city:"04"},{code:"150500",name:"通辽市",province:"15",city:"05"},{code:"150600",name:"鄂尔多斯市",province:"15",city:"06"},{code:"150700",name:"呼伦贝尔市",province:"15",city:"07"},{code:"150800",name:"巴彦淖尔市",province:"15",city:"08"},{code:"150900",name:"乌兰察布市",province:"15",city:"09"},{code:"152200",name:"兴安盟",province:"15",city:"22"},{code:"152500",name:"锡林郭勒盟",province:"15",city:"25"},{code:"152900",name:"阿拉善盟",province:"15",city:"29"},{code:"210100",name:"沈阳市",province:"21",city:"01"},{code:"210200",name:"大连市",province:"21",city:"02"},{code:"210300",name:"鞍山市",province:"21",city:"03"},{code:"210400",name:"抚顺市",province:"21",city:"04"},{code:"210500",name:"本溪市",province:"21",city:"05"},{code:"210600",name:"丹东市",province:"21",city:"06"},{code:"210700",name:"锦州市",province:"21",city:"07"},{code:"210800",name:"营口市",province:"21",city:"08"},{code:"210900",name:"阜新市",province:"21",city:"09"},{code:"211000",name:"辽阳市",province:"21",city:"10"},{code:"211100",name:"盘锦市",province:"21",city:"11"},{code:"211200",name:"铁岭市",province:"21",city:"12"},{code:"211300",name:"朝阳市",province:"21",city:"13"},{code:"211400",name:"葫芦岛市",province:"21",city:"14"},{code:"220100",name:"长春市",province:"22",city:"01"},{code:"220200",name:"吉林市",province:"22",city:"02"},{code:"220300",name:"四平市",province:"22",city:"03"},{code:"220400",name:"辽源市",province:"22",city:"04"},{code:"220500",name:"通化市",province:"22",city:"05"},{code:"220600",name:"白山市",province:"22",city:"06"},{code:"220700",name:"松原市",province:"22",city:"07"},{code:"220800",name:"白城市",province:"22",city:"08"},{code:"222400",name:"延边朝鲜族自治州",province:"22",city:"24"},{code:"230100",name:"哈尔滨市",province:"23",city:"01"},{code:"230200",name:"齐齐哈尔市",province:"23",city:"02"},{code:"230300",name:"鸡西市",province:"23",city:"03"},{code:"230400",name:"鹤岗市",province:"23",city:"04"},{code:"230500",name:"双鸭山市",province:"23",city:"05"},{code:"230600",name:"大庆市",province:"23",city:"06"},{code:"230700",name:"伊春市",province:"23",city:"07"},{code:"230800",name:"佳木斯市",province:"23",city:"08"},{code:"230900",name:"七台河市",province:"23",city:"09"},{code:"231000",name:"牡丹江市",province:"23",city:"10"},{code:"231100",name:"黑河市",province:"23",city:"11"},{code:"231200",name:"绥化市",province:"23",city:"12"},{code:"232700",name:"大兴安岭地区",province:"23",city:"27"},{code:"320100",name:"南京市",province:"32",city:"01"},{code:"320200",name:"无锡市",province:"32",city:"02"},{code:"320300",name:"徐州市",province:"32",city:"03"},{code:"320400",name:"常州市",province:"32",city:"04"},{code:"320500",name:"苏州市",province:"32",city:"05"},{code:"320600",name:"南通市",province:"32",city:"06"},{code:"320700",name:"连云港市",province:"32",city:"07"},{code:"320800",name:"淮安市",province:"32",city:"08"},{code:"320900",name:"盐城市",province:"32",city:"09"},{code:"321000",name:"扬州市",province:"32",city:"10"},{code:"321100",name:"镇江市",province:"32",city:"11"},{code:"321200",name:"泰州市",province:"32",city:"12"},{code:"321300",name:"宿迁市",province:"32",city:"13"},{code:"330100",name:"杭州市",province:"33",city:"01"},{code:"330200",name:"宁波市",province:"33",city:"02"},{code:"330300",name:"温州市",province:"33",city:"03"},{code:"330400",name:"嘉兴市",province:"33",city:"04"},{code:"330500",name:"湖州市",province:"33",city:"05"},{code:"330600",name:"绍兴市",province:"33",city:"06"},{code:"330700",name:"金华市",province:"33",city:"07"},{code:"330800",name:"衢州市",province:"33",city:"08"},{code:"330900",name:"舟山市",province:"33",city:"09"},{code:"331000",name:"台州市",province:"33",city:"10"},{code:"331100",name:"丽水市",province:"33",city:"11"},{code:"340100",name:"合肥市",province:"34",city:"01"},{code:"340200",name:"芜湖市",province:"34",city:"02"},{code:"340300",name:"蚌埠市",province:"34",city:"03"},{code:"340400",name:"淮南市",province:"34",city:"04"},{code:"340500",name:"马鞍山市",province:"34",city:"05"},{code:"340600",name:"淮北市",province:"34",city:"06"},{code:"340700",name:"铜陵市",province:"34",city:"07"},{code:"340800",name:"安庆市",province:"34",city:"08"},{code:"341000",name:"黄山市",province:"34",city:"10"},{code:"341100",name:"滁州市",province:"34",city:"11"},{code:"341200",name:"阜阳市",province:"34",city:"12"},{code:"341300",name:"宿州市",province:"34",city:"13"},{code:"341500",name:"六安市",province:"34",city:"15"},{code:"341600",name:"亳州市",province:"34",city:"16"},{code:"341700",name:"池州市",province:"34",city:"17"},{code:"341800",name:"宣城市",province:"34",city:"18"},{code:"350100",name:"福州市",province:"35",city:"01"},{code:"350200",name:"厦门市",province:"35",city:"02"},{code:"350300",name:"莆田市",province:"35",city:"03"},{code:"350400",name:"三明市",province:"35",city:"04"},{code:"350500",name:"泉州市",province:"35",city:"05"},{code:"350600",name:"漳州市",province:"35",city:"06"},{code:"350700",name:"南平市",province:"35",city:"07"},{code:"350800",name:"龙岩市",province:"35",city:"08"},{code:"350900",name:"宁德市",province:"35",city:"09"},{code:"360100",name:"南昌市",province:"36",city:"01"},{code:"360200",name:"景德镇市",province:"36",city:"02"},{code:"360300",name:"萍乡市",province:"36",city:"03"},{code:"360400",name:"九江市",province:"36",city:"04"},{code:"360500",name:"新余市",province:"36",city:"05"},{code:"360600",name:"鹰潭市",province:"36",city:"06"},{code:"360700",name:"赣州市",province:"36",city:"07"},{code:"360800",name:"吉安市",province:"36",city:"08"},{code:"360900",name:"宜春市",province:"36",city:"09"},{code:"361000",name:"抚州市",province:"36",city:"10"},{code:"361100",name:"上饶市",province:"36",city:"11"},{code:"370100",name:"济南市",province:"37",city:"01"},{code:"370200",name:"青岛市",province:"37",city:"02"},{code:"370300",name:"淄博市",province:"37",city:"03"},{code:"370400",name:"枣庄市",province:"37",city:"04"},{code:"370500",name:"东营市",province:"37",city:"05"},{code:"370600",name:"烟台市",province:"37",city:"06"},{code:"370700",name:"潍坊市",province:"37",city:"07"},{code:"370800",name:"济宁市",province:"37",city:"08"},{code:"370900",name:"泰安市",province:"37",city:"09"},{code:"371000",name:"威海市",province:"37",city:"10"},{code:"371100",name:"日照市",province:"37",city:"11"},{code:"371300",name:"临沂市",province:"37",city:"13"},{code:"371400",name:"德州市",province:"37",city:"14"},{code:"371500",name:"聊城市",province:"37",city:"15"},{code:"371600",name:"滨州市",province:"37",city:"16"},{code:"371700",name:"菏泽市",province:"37",city:"17"},{code:"410100",name:"郑州市",province:"41",city:"01"},{code:"410200",name:"开封市",province:"41",city:"02"},{code:"410300",name:"洛阳市",province:"41",city:"03"},{code:"410400",name:"平顶山市",province:"41",city:"04"},{code:"410500",name:"安阳市",province:"41",city:"05"},{code:"410600",name:"鹤壁市",province:"41",city:"06"},{code:"410700",name:"新乡市",province:"41",city:"07"},{code:"410800",name:"焦作市",province:"41",city:"08"},{code:"410900",name:"濮阳市",province:"41",city:"09"},{code:"411000",name:"许昌市",province:"41",city:"10"},{code:"411100",name:"漯河市",province:"41",city:"11"},{code:"411200",name:"三门峡市",province:"41",city:"12"},{code:"411300",name:"南阳市",province:"41",city:"13"},{code:"411400",name:"商丘市",province:"41",city:"14"},{code:"411500",name:"信阳市",province:"41",city:"15"},{code:"411600",name:"周口市",province:"41",city:"16"},{code:"411700",name:"驻马店市",province:"41",city:"17"},{code:"420100",name:"武汉市",province:"42",city:"01"},{code:"420200",name:"黄石市",province:"42",city:"02"},{code:"420300",name:"十堰市",province:"42",city:"03"},{code:"420500",name:"宜昌市",province:"42",city:"05"},{code:"420600",name:"襄阳市",province:"42",city:"06"},{code:"420700",name:"鄂州市",province:"42",city:"07"},{code:"420800",name:"荆门市",province:"42",city:"08"},{code:"420900",name:"孝感市",province:"42",city:"09"},{code:"421000",name:"荆州市",province:"42",city:"10"},{code:"421100",name:"黄冈市",province:"42",city:"11"},{code:"421200",name:"咸宁市",province:"42",city:"12"},{code:"421300",name:"随州市",province:"42",city:"13"},{code:"422800",name:"恩施土家族苗族自治州",province:"42",city:"28"},{code:"430100",name:"长沙市",province:"43",city:"01"},{code:"430200",name:"株洲市",province:"43",city:"02"},{code:"430300",name:"湘潭市",province:"43",city:"03"},{code:"430400",name:"衡阳市",province:"43",city:"04"},{code:"430500",name:"邵阳市",province:"43",city:"05"},{code:"430600",name:"岳阳市",province:"43",city:"06"},{code:"430700",name:"常德市",province:"43",city:"07"},{code:"430800",name:"张家界市",province:"43",city:"08"},{code:"430900",name:"益阳市",province:"43",city:"09"},{code:"431000",name:"郴州市",province:"43",city:"10"},{code:"431100",name:"永州市",province:"43",city:"11"},{code:"431200",name:"怀化市",province:"43",city:"12"},{code:"431300",name:"娄底市",province:"43",city:"13"},{code:"433100",name:"湘西土家族苗族自治州",province:"43",city:"31"},{code:"440100",name:"广州市",province:"44",city:"01"},{code:"440200",name:"韶关市",province:"44",city:"02"},{code:"440300",name:"深圳市",province:"44",city:"03"},{code:"440400",name:"珠海市",province:"44",city:"04"},{code:"440500",name:"汕头市",province:"44",city:"05"},{code:"440600",name:"佛山市",province:"44",city:"06"},{code:"440700",name:"江门市",province:"44",city:"07"},{code:"440800",name:"湛江市",province:"44",city:"08"},{code:"440900",name:"茂名市",province:"44",city:"09"},{code:"441200",name:"肇庆市",province:"44",city:"12"},{code:"441300",name:"惠州市",province:"44",city:"13"},{code:"441400",name:"梅州市",province:"44",city:"14"},{code:"441500",name:"汕尾市",province:"44",city:"15"},{code:"441600",name:"河源市",province:"44",city:"16"},{code:"441700",name:"阳江市",province:"44",city:"17"},{code:"441800",name:"清远市",province:"44",city:"18"},{code:"441900",name:"东莞市",province:"44",city:"19"},{code:"442000",name:"中山市",province:"44",city:"20"},{code:"445100",name:"潮州市",province:"44",city:"51"},{code:"445200",name:"揭阳市",province:"44",city:"52"},{code:"445300",name:"云浮市",province:"44",city:"53"},{code:"450100",name:"南宁市",province:"45",city:"01"},{code:"450200",name:"柳州市",province:"45",city:"02"},{code:"450300",name:"桂林市",province:"45",city:"03"},{code:"450400",name:"梧州市",province:"45",city:"04"},{code:"450500",name:"北海市",province:"45",city:"05"},{code:"450600",name:"防城港市",province:"45",city:"06"},{code:"450700",name:"钦州市",province:"45",city:"07"},{code:"450800",name:"贵港市",province:"45",city:"08"},{code:"450900",name:"玉林市",province:"45",city:"09"},{code:"451000",name:"百色市",province:"45",city:"10"},{code:"451100",name:"贺州市",province:"45",city:"11"},{code:"451200",name:"河池市",province:"45",city:"12"},{code:"451300",name:"来宾市",province:"45",city:"13"},{code:"451400",name:"崇左市",province:"45",city:"14"},{code:"460100",name:"海口市",province:"46",city:"01"},{code:"460200",name:"三亚市",province:"46",city:"02"},{code:"460300",name:"三沙市",province:"46",city:"03"},{code:"460400",name:"儋州市",province:"46",city:"04"},{code:"510100",name:"成都市",province:"51",city:"01"},{code:"510300",name:"自贡市",province:"51",city:"03"},{code:"510400",name:"攀枝花市",province:"51",city:"04"},{code:"510500",name:"泸州市",province:"51",city:"05"},{code:"510600",name:"德阳市",province:"51",city:"06"},{code:"510700",name:"绵阳市",province:"51",city:"07"},{code:"510800",name:"广元市",province:"51",city:"08"},{code:"510900",name:"遂宁市",province:"51",city:"09"},{code:"511000",name:"内江市",province:"51",city:"10"},{code:"511100",name:"乐山市",province:"51",city:"11"},{code:"511300",name:"南充市",province:"51",city:"13"},{code:"511400",name:"眉山市",province:"51",city:"14"},{code:"511500",name:"宜宾市",province:"51",city:"15"},{code:"511600",name:"广安市",province:"51",city:"16"},{code:"511700",name:"达州市",province:"51",city:"17"},{code:"511800",name:"雅安市",province:"51",city:"18"},{code:"511900",name:"巴中市",province:"51",city:"19"},{code:"512000",name:"资阳市",province:"51",city:"20"},{code:"513200",name:"阿坝藏族羌族自治州",province:"51",city:"32"},{code:"513300",name:"甘孜藏族自治州",province:"51",city:"33"},{code:"513400",name:"凉山彝族自治州",province:"51",city:"34"},{code:"520100",name:"贵阳市",province:"52",city:"01"},{code:"520200",name:"六盘水市",province:"52",city:"02"},{code:"520300",name:"遵义市",province:"52",city:"03"},{code:"520400",name:"安顺市",province:"52",city:"04"},{code:"520500",name:"毕节市",province:"52",city:"05"},{code:"520600",name:"铜仁市",province:"52",city:"06"},{code:"522300",name:"黔西南布依族苗族自治州",province:"52",city:"23"},{code:"522600",name:"黔东南苗族侗族自治州",province:"52",city:"26"},{code:"522700",name:"黔南布依族苗族自治州",province:"52",city:"27"},{code:"530100",name:"昆明市",province:"53",city:"01"},{code:"530300",name:"曲靖市",province:"53",city:"03"},{code:"530400",name:"玉溪市",province:"53",city:"04"},{code:"530500",name:"保山市",province:"53",city:"05"},{code:"530600",name:"昭通市",province:"53",city:"06"},{code:"530700",name:"丽江市",province:"53",city:"07"},{code:"530800",name:"普洱市",province:"53",city:"08"},{code:"530900",name:"临沧市",province:"53",city:"09"},{code:"532300",name:"楚雄彝族自治州",province:"53",city:"23"},{code:"532500",name:"红河哈尼族彝族自治州",province:"53",city:"25"},{code:"532600",name:"文山壮族苗族自治州",province:"53",city:"26"},{code:"532800",name:"西双版纳傣族自治州",province:"53",city:"28"},{code:"532900",name:"大理白族自治州",province:"53",city:"29"},{code:"533100",name:"德宏傣族景颇族自治州",province:"53",city:"31"},{code:"533300",name:"怒江傈僳族自治州",province:"53",city:"33"},{code:"533400",name:"迪庆藏族自治州",province:"53",city:"34"},{code:"540100",name:"拉萨市",province:"54",city:"01"},{code:"540200",name:"日喀则市",province:"54",city:"02"},{code:"540300",name:"昌都市",province:"54",city:"03"},{code:"540400",name:"林芝市",province:"54",city:"04"},{code:"540500",name:"山南市",province:"54",city:"05"},{code:"540600",name:"那曲市",province:"54",city:"06"},{code:"542500",name:"阿里地区",province:"54",city:"25"},{code:"610100",name:"西安市",province:"61",city:"01"},{code:"610200",name:"铜川市",province:"61",city:"02"},{code:"610300",name:"宝鸡市",province:"61",city:"03"},{code:"610400",name:"咸阳市",province:"61",city:"04"},{code:"610500",name:"渭南市",province:"61",city:"05"},{code:"610600",name:"延安市",province:"61",city:"06"},{code:"610700",name:"汉中市",province:"61",city:"07"},{code:"610800",name:"榆林市",province:"61",city:"08"},{code:"610900",name:"安康市",province:"61",city:"09"},{code:"611000",name:"商洛市",province:"61",city:"10"},{code:"620100",name:"兰州市",province:"62",city:"01"},{code:"620200",name:"嘉峪关市",province:"62",city:"02"},{code:"620300",name:"金昌市",province:"62",city:"03"},{code:"620400",name:"白银市",province:"62",city:"04"},{code:"620500",name:"天水市",province:"62",city:"05"},{code:"620600",name:"武威市",province:"62",city:"06"},{code:"620700",name:"张掖市",province:"62",city:"07"},{code:"620800",name:"平凉市",province:"62",city:"08"},{code:"620900",name:"酒泉市",province:"62",city:"09"},{code:"621000",name:"庆阳市",province:"62",city:"10"},{code:"621100",name:"定西市",province:"62",city:"11"},{code:"621200",name:"陇南市",province:"62",city:"12"},{code:"622900",name:"临夏回族自治州",province:"62",city:"29"},{code:"623000",name:"甘南藏族自治州",province:"62",city:"30"},{code:"630100",name:"西宁市",province:"63",city:"01"},{code:"630200",name:"海东市",province:"63",city:"02"},{code:"632200",name:"海北藏族自治州",province:"63",city:"22"},{code:"632300",name:"黄南藏族自治州",province:"63",city:"23"},{code:"632500",name:"海南藏族自治州",province:"63",city:"25"},{code:"632600",name:"果洛藏族自治州",province:"63",city:"26"},{code:"632700",name:"玉树藏族自治州",province:"63",city:"27"},{code:"632800",name:"海西蒙古族藏族自治州",province:"63",city:"28"},{code:"640100",name:"银川市",province:"64",city:"01"},{code:"640200",name:"石嘴山市",province:"64",city:"02"},{code:"640300",name:"吴忠市",province:"64",city:"03"},{code:"640400",name:"固原市",province:"64",city:"04"},{code:"640500",name:"中卫市",province:"64",city:"05"},{code:"650100",name:"乌鲁木齐市",province:"65",city:"01"},{code:"650200",name:"克拉玛依市",province:"65",city:"02"},{code:"650400",name:"吐鲁番市",province:"65",city:"04"},{code:"650500",name:"哈密市",province:"65",city:"05"},{code:"652300",name:"昌吉回族自治州",province:"65",city:"23"},{code:"652700",name:"博尔塔拉蒙古自治州",province:"65",city:"27"},{code:"652800",name:"巴音郭楞蒙古自治州",province:"65",city:"28"},{code:"652900",name:"阿克苏地区",province:"65",city:"29"},{code:"653000",name:"克孜勒苏柯尔克孜自治州",province:"65",city:"30"},{code:"653100",name:"喀什地区",province:"65",city:"31"},{code:"653200",name:"和田地区",province:"65",city:"32"},{code:"654000",name:"伊犁哈萨克自治州",province:"65",city:"40"},{code:"654200",name:"塔城地区",province:"65",city:"42"},{code:"654300",name:"阿勒泰地区",province:"65",city:"43"},{code:"429000",name:"湖北省 - 自治区直辖县级行政区划",province:"42",city:"90"},{code:"469000",name:"海南省 - 自治区直辖县级行政区划",province:"46",city:"90"},{code:"659000",name:"新疆维吾尔自治区 - 自治区直辖县级行政区划",province:"65",city:"90"},{code:"419000",name:"河南省 - 省直辖县级行政区划",province:"41",city:"90"},{code:"110000",name:"北京市",province:"11"},{code:"120000",name:"天津市",province:"12"},{code:"130000",name:"河北省",province:"13"},{code:"140000",name:"山西省",province:"14"},{code:"150000",name:"内蒙古自治区",province:"15"},{code:"210000",name:"辽宁省",province:"21"},{code:"220000",name:"吉林省",province:"22"},{code:"230000",name:"黑龙江省",province:"23"},{code:"310000",name:"上海市",province:"31"},{code:"320000",name:"江苏省",province:"32"},{code:"330000",name:"浙江省",province:"33"},{code:"340000",name:"安徽省",province:"34"},{code:"350000",name:"福建省",province:"35"},{code:"360000",name:"江西省",province:"36"},{code:"370000",name:"山东省",province:"37"},{code:"410000",name:"河南省",province:"41"},{code:"420000",name:"湖北省",province:"42"},{code:"430000",name:"湖南省",province:"43"},{code:"440000",name:"广东省",province:"44"},{code:"450000",name:"广西壮族自治区",province:"45"},{code:"460000",name:"海南省",province:"46"},{code:"500000",name:"重庆市",province:"50"},{code:"510000",name:"四川省",province:"51"},{code:"520000",name:"贵州省",province:"52"},{code:"530000",name:"云南省",province:"53"},{code:"540000",name:"西藏自治区",province:"54"},{code:"610000",name:"陕西省",province:"61"},{code:"620000",name:"甘肃省",province:"62"},{code:"630000",name:"青海省",province:"63"},{code:"640000",name:"宁夏回族自治区",province:"64"},{code:"650000",name:"新疆维吾尔自治区",province:"65"},{code:"710000",name:"台湾省",province:"71"},{code:"810000",name:"香港特别行政区",province:"81"},{code:"820000",name:"澳门特别行政区",province:"82"}],at="pk.eyJ1IjoieXVzdWZ6cyIsImEiOiJjbWVtZzB5ZjMwcjE5Mmpvb2M0a3BnNGgyIn0.z-pvC48aw_1fNWyYAZPsdQ",st=["北京市","上海市","天津市","重庆市","香港特别行政区","澳门特别行政区"],rt=.4,lt=window.innerWidth<=768?250:600,dt=!1,he=!1,Re=!1,mt=(e,c)=>`Running Journey with ${e} Years, the table shows year ${c} data`,pt="跑过了一些地方，希望随着时间推移，点亮的地方越来越多",ut="不要停下来，不要停下奔跑的脚步",vt=mt,ht="Full Marathon",yt="Half Marathon",gt="Morning Run",ft="Midday Run",_t="Afternoon Run",xt="Evening Run",Tt="Night Run",jt="Activity Count",Et="Max Distance",Lt="Max Speed",Rt="Total Time",St="Average Speed",wt="Total Distance",Nt="Average Heart Rate",bt="Yearly",Ct="Monthly",It="Weekly",Mt="Daily",kt="Home",K={FULL_MARATHON_RUN_TITLE:ht,HALF_MARATHON_RUN_TITLE:yt,MORNING_RUN_TITLE:gt,MIDDAY_RUN_TITLE:ft,AFTERNOON_RUN_TITLE:_t,EVENING_RUN_TITLE:xt,NIGHT_RUN_TITLE:Tt},H={ACTIVITY_COUNT_TITLE:jt,MAX_DISTANCE_TITLE:Et,MAX_SPEED_TITLE:Lt,TOTAL_TIME_TITLE:Rt,AVERAGE_SPEED_TITLE:St,TOTAL_DISTANCE_TITLE:wt,AVERAGE_HEART_RATE_TITLE:Nt,YEARLY_TITLE:bt,MONTHLY_TITLE:Ct,WEEKLY_TITLE:It,DAILY_TITLE:Mt},At="rgb(224,237,94)",Dt="rgb(228,212,220)",Ot=!1,Se=At,Ft="#47b8e0",Pt=Dt,xe=Se,$t="rgb(255,153,51)",Ht="rgb(51,255,87)",we="rgb(151,51,255)",Gt=we,Vt="rgb(255,51,51)",Yt="mapbox",Bt="dark-v10",Ut={maptiler:{"dataviz-dark":"https://api.maptiler.com/maps/dataviz-dark/style.json?key=","basic-dark":"https://api.maptiler.com/maps/basic-v2-dark/style.json?key=","streets-dark":"https://api.maptiler.com/maps/streets-v2-dark/style.json?key=","outdoor-dark":"https://api.maptiler.com/maps/outdoor-v2-dark/style.json?key=","bright-dark":"https://api.maptiler.com/maps/bright-v2-dark/style.json?key=","topo-dark":"https://api.maptiler.com/maps/topo-v2-dark/style.json?key=","winter-dark":"https://api.maptiler.com/maps/winter-v2-dark/style.json?key=",hybrid:"https://api.maptiler.com/maps/hybrid/style.json?key="},stadiamaps:{alidade_smooth_dark:"https://tiles.stadiamaps.com/styles/alidade_smooth_dark.json?api_key=",alidade_satellite:"https://tiles.stadiamaps.com/styles/alidade_satellite.json?api_key="},mapbox:{"dark-v10":"mapbox://styles/mapbox/dark-v10","dark-v11":"mapbox://styles/mapbox/dark-v11","navigation-night":"mapbox://styles/mapbox/navigation-night-v1","satellite-streets-v12":"mapbox://styles/mapbox/satellite-streets-v12"},default:"mapbox://styles/mapbox/dark-v10"},Wt=e=>{const c=e.start_date_local.slice(0,11),n=(e.distance/1e3).toFixed(2);let i="Run";return e.name.slice(0,7)==="Running"&&(i="run"),e.name&&(i=e.name),`${i} ${c} ${n} KM ${e.summary_polyline?"":"(No map data for this run)"}`},Ne=e=>{if(Number.isNaN(e))return"0";const c=1e3/60*(1/e),n=Math.floor(c),i=Math.floor((c-n)*60);return`${n}'${i.toFixed(0).toString().padStart(2,"0")}"`},ue=e=>{if(!e)return 0;const c=e.split(", "),n=c.length==2?parseInt(c[0]):0,i=c.splice(-1)[0],[o,s,v]=i.split(":").map(Number);return((n*24+o)*60+s)*60+v},zt=e=>{const c=ue(e),n=c%60,i=(c-n)/60;return i===0?n+"s":i+"min"},Te=()=>{const e=document.getElementById("map-container");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},qt=e=>{const c=[];let n;const i=/([\u4e00-\u9fa5]{2,}(市|自治州|特别行政区|盟|地区))/g;for(;(n=i.exec(e))!==null;)c.push(n[0]);return c},Kt=e=>{const c=[];let n;const i=/([\u4e00-\u9fa5]{2,}(区|县))/g;for(;(n=i.exec(e))!==null;)c.push(n[0]);return c},Xt=e=>{const c=/'latitude': ([-]?\d+\.\d+).*?'longitude': ([-]?\d+\.\d+)/,n=e.match(c);if(n){const i=parseFloat(n[1]);return[parseFloat(n[2]),i]}return null},Jt=it.map(e=>e.name),de=new Map,be=e=>{if(de.has(e.run_id))return de.get(e.run_id);let c=e.location_country,[n,i,o]=["","",""],s=null;if(c){const g=qt(c),j=c.match(/[\u4e00-\u9fa5]{2,}(省|自治区)/);g&&(n=Jt.find(r=>g.includes(r)),n||(n="")),j&&([i]=j,s=Xt(c));const h=c.split(",");let l=h[h.length-1].match(/[\u4e00-\u9fa5].*[\u4e00-\u9fa5]/);!l&&h.length>=3&&(l=h[2].match(/[\u4e00-\u9fa5].*[\u4e00-\u9fa5]/)),l&&([o]=l)}if(st.includes(n)&&(i=n,c)){const g=Kt(c);g.length>0&&(n=g[g.length-1])}const v={country:o,province:i,city:n,coordinate:s};return de.set(e.run_id,v),v},Zt=(e="")=>e.toString().length<=5?e:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Ce=e=>{try{if(!e.summary_polyline)return[];const c=$e.decode(e.summary_polyline);if(c.forEach(n=>{[n[0],n[1]]=Ot?le.transform([n[1],n[0]],le.GCJ02,le.WGS84):[n[1],n[0]]}),c.length===2&&String(c[0])===String(c[1])){const{coordinate:n}=be(e);if(n!=null&&n[0]&&(n!=null&&n[1]))return[n,n]}return c}catch{return[]}},Qt=e=>{switch(e.type){case"Run":return e.subtype==="trail"?$t:(e.subtype==="generic",xe);case"cycling":return Ht;case"hiking":return we;case"walking":return Gt;case"swimming":return Vt;default:return Se}},me=e=>({type:"FeatureCollection",features:e.map(c=>{const n=Ce(c);return{type:"Feature",properties:{color:Qt(c)},geometry:{type:"LineString",coordinates:n}}})}),ye=e=>{const c=e.distance/1e3,n=+e.start_date_local.slice(11,13);return c>20&&c<40?K.HALF_MARATHON_RUN_TITLE:c>=40?K.FULL_MARATHON_RUN_TITLE:n>=0&&n<=10?K.MORNING_RUN_TITLE:n>10&&n<=14?K.MIDDAY_RUN_TITLE:n>14&&n<=18?K.AFTERNOON_RUN_TITLE:n>18&&n<=21?K.EVENING_RUN_TITLE:K.NIGHT_RUN_TITLE},je=e=>{const{features:c}=e;let n=[];for(const l of c)if(l.geometry.coordinates.length){n=l.geometry.coordinates;break}if(n.length===0)return{longitude:20,latitude:20,zoom:3};if(n.length===2&&String(n[0])===String(n[1]))return{longitude:n[0][0],latitude:n[0][1],zoom:9};const i=n.map(l=>l[0]),o=n.map(l=>l[1]),s=[[Math.min(...i),Math.min(...o)],[Math.max(...i),Math.max(...o)]],v=new Pe({width:800,height:600}).fitBounds(s,{padding:200});let{longitude:g,latitude:j,zoom:h}=v;return c.length>1&&(h=11.5),{longitude:g,latitude:j,zoom:h}},Ee=(e,c)=>e&&e.start_date_local?e.start_date_local.slice(0,4)===c:!1,en=(e,c)=>e&&e.location_country?e.location_country.includes(c):!1,tn=(e,c)=>ye(e)===c,nn=(e,c,n,i)=>{let o=e;return c!=="Total"&&(o=e.filter(s=>n(s,c))),o.sort(i)},ne=(e,c)=>new Date(c.start_date_local.replace(" ","T")).getTime()-new Date(e.start_date_local.replace(" ","T")).getTime(),cn=(e,c)=>ne(c,e),on=(e,c,n)=>Ut[e][c],an=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||window.innerWidth<=768,P=({value:e,description:c,className:n="pb-2 w-full",citySize:i,onClick:o})=>t.jsxs("div",{className:`${n}`,onClick:o,children:[t.jsx("span",{className:`text-${i||5}xl font-bold italic`,children:Zt(e.toString())}),t.jsx("span",{className:"text-lg font-semibold italic",children:c})]}),sn=e=>{switch(e){case"英国 / 英國":return"英国";case"美利坚合众国/美利堅合眾國":return"美国";default:return e}},z=()=>a.useMemo(()=>{const c={},n={},i=new Set,o=new Set,s=new Set;te.forEach(j=>{const h=be(j),l=ye(j);l&&(n[l]=n[l]?n[l]+1:1);const{city:r,province:d,country:p}=h;r.length>1&&(c[r]=c[r]?c[r]+j.distance:j.distance),d&&i.add(d),p&&o.add(sn(p));const y=j.start_date_local.slice(0,4);s.add(y)});const v=[...s].sort().reverse(),g=v[0]||"";return{activities:te,years:v,countries:[...o],provinces:[...i],cities:c,runPeriod:n,thisYear:g}},[]),rn=()=>{const[e,c]=a.useState(!1),n=a.useRef();return[e,{onMouseOver(){clearTimeout(n.current),n.current=window.setTimeout(()=>c(!0),1e3)},onMouseOut(){clearTimeout(n.current),c(!1)}}]},ln=Object.assign({"./year_2012.svg":()=>I(()=>import("./year_2012-B3EfpIDh.js"),__vite__mapDeps([0,1])).then(e=>e.ReactComponent),"./year_2013.svg":()=>I(()=>import("./year_2013-RrpCShpa.js"),__vite__mapDeps([2,1])).then(e=>e.ReactComponent),"./year_2014.svg":()=>I(()=>import("./year_2014-a8NblMd9.js"),__vite__mapDeps([3,1])).then(e=>e.ReactComponent),"./year_2015.svg":()=>I(()=>import("./year_2015-tf7tOE5P.js"),__vite__mapDeps([4,1])).then(e=>e.ReactComponent),"./year_2016.svg":()=>I(()=>import("./year_2016-HUfxiEcv.js"),__vite__mapDeps([5,1])).then(e=>e.ReactComponent),"./year_2017.svg":()=>I(()=>import("./year_2017-C5AWJ-X1.js"),__vite__mapDeps([6,1])).then(e=>e.ReactComponent),"./year_2018.svg":()=>I(()=>import("./year_2018-DmSTx2zX.js"),__vite__mapDeps([7,1])).then(e=>e.ReactComponent),"./year_2019.svg":()=>I(()=>import("./year_2019-io5qw2fE.js"),__vite__mapDeps([8,1])).then(e=>e.ReactComponent),"./year_2020.svg":()=>I(()=>import("./year_2020-CxIGuOtu.js"),__vite__mapDeps([9,1])).then(e=>e.ReactComponent),"./year_2021.svg":()=>I(()=>import("./year_2021-DS8KB1K7.js"),__vite__mapDeps([10,1])).then(e=>e.ReactComponent),"./year_2022.svg":()=>I(()=>import("./year_2022-s6E-XXbA.js"),__vite__mapDeps([11,1])).then(e=>e.ReactComponent),"./year_2023.svg":()=>I(()=>import("./year_2023-BIRscfPe.js"),__vite__mapDeps([12,1])).then(e=>e.ReactComponent),"./year_2024.svg":()=>I(()=>import("./year_2024-nHZQNmG2.js"),__vite__mapDeps([13,1])).then(e=>e.ReactComponent),"./year_2025.svg":()=>I(()=>import("./year_2025-CKEWEByM.js"),__vite__mapDeps([14,1])).then(e=>e.ReactComponent)}),ge=Object.assign({"./github.svg":()=>I(()=>import("./github.svg-DS9MqaAB.js"),__vite__mapDeps([15,1])).then(e=>e.ReactComponent),"./grid.svg":()=>I(()=>import("./grid.svg-Ds9sMkrv.js"),__vite__mapDeps([16,1])).then(e=>e.ReactComponent),"./mol.svg":()=>I(()=>import("./mol.svg-3bH64vWV.js"),__vite__mapDeps([17,1])).then(e=>e.ReactComponent)}),dn=()=>(console.log("Failed to load SVG component"),t.jsx("div",{})),oe=async(e,c)=>{try{return{default:await e[c]()}}catch(n){return console.error(n),{default:dn}}},Ie=({year:e,onClick:c})=>{let{activities:n,years:i}=z();const[o,s]=rn(),v=a.lazy(()=>oe(ln,`./year_${e}.svg`));i.includes(e)&&(n=n.filter(T=>T.start_date_local.slice(0,4)===e));let g=0,j=0,h=0,l=0,r=0,d=0,p=0,y=0;n.forEach(T=>{g+=T.distance||0,h+=T.elevation_gain||0,T.average_speed&&(l+=T.average_speed,p+=T.distance||0,y+=(T.distance||0)/T.average_speed),T.average_heartrate?r+=T.average_heartrate:d++,T.streak&&(j=Math.max(j,T.streak))}),g=parseFloat((g/1e3).toFixed(1)),h.toFixed(0);const _=Ne(p/y),m=r!==0,x=(r/(n.length-d)).toFixed(0);return t.jsxs("div",{className:"cursor-pointer",onClick:()=>c(e),children:[t.jsxs("section",{...s,children:[t.jsx(P,{value:e,description:" Journey"}),t.jsx(P,{value:n.length,description:" Runs"}),t.jsx(P,{value:g,description:" KM"}),he,t.jsx(P,{value:_,description:" Avg Pace"}),t.jsx(P,{value:`${j} day`,description:" Streak"}),m&&t.jsx(P,{value:x,description:" Avg Heart Rate"})]}),e!=="Total"&&o&&t.jsx(a.Suspense,{fallback:"loading...",children:t.jsx(v,{className:"my-4 h-4/6 w-4/6 border-0 p-0"})}),t.jsx("hr",{})]})},mn=({onClick:e})=>{const{cities:c}=z(),n=Object.entries(c);return n.sort((i,o)=>o[1]-i[1]),t.jsxs("div",{className:"cursor-pointer",children:[t.jsx("section",{children:n.map(([i,o])=>t.jsx(P,{value:i,description:` ${(o/1e3).toFixed(0)} KM`,citySize:3,onClick:()=>e(i)},i))}),t.jsx("hr",{})]})},pn=()=>{const{years:e,countries:c,provinces:n,cities:i}=z();return t.jsxs("div",{className:"cursor-pointer",children:[t.jsxs("section",{children:[e?t.jsx(P,{value:`${e.length}`,description:" 年里我跑过"}):null,c?t.jsx(P,{value:c.length,description:" 个国家"}):null,n?t.jsx(P,{value:n.length,description:" 个省份"}):null,i?t.jsx(P,{value:Object.keys(i).length,description:" 个城市"}):null]}),t.jsx("hr",{})]})},un=({onClick:e})=>{const{runPeriod:c}=z(),n=Object.entries(c);return n.sort((i,o)=>o[1]-i[1]),t.jsxs("div",{className:"cursor-pointer",children:[t.jsx("section",{children:n.map(([i,o])=>t.jsx(P,{value:i,description:` ${o} Runs`,citySize:3,onClick:()=>e(i)},i))}),t.jsx("hr",{})]})},vn=({changeYear:e,changeCity:c,changeTitle:n})=>t.jsxs("div",{className:"w-full pb-16 lg:w-full lg:pr-16",children:[t.jsx("section",{className:"pb-0",children:t.jsxs("p",{className:"leading-relaxed",children:[pt,".",t.jsx("br",{}),ut,".",t.jsx("br",{}),t.jsx("br",{}),"Yesterday you said tomorrow."]})}),t.jsx("hr",{}),t.jsx(pn,{}),t.jsx(mn,{onClick:c}),t.jsx(un,{onClick:n}),t.jsx(Ie,{year:"Total",onClick:e})]}),Me=(e,c)=>{const n=d=>d*Math.PI/180,o=n(c[1]-e[1]),s=n(c[0]-e[0]),v=n(e[1]),g=n(c[1]),j=Math.sin(o/2),h=Math.sin(s/2),l=j*j+Math.cos(v)*Math.cos(g)*h*h;return 6371e3*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},hn=(e,c=5)=>{if(e.length<=100)return e;const n=[e[0]];let i=0;for(let o=1;o<e.length-1;o++)Me(e[i],e[o])>c&&(n.push(e[o]),i=o);return n.push(e[e.length-1]),n},yn=e=>{const c=[];let n=0;for(let o=1;o<e.length;o++){const s=Me(e[o-1],e[o]);c.push(s),n+=s}const i=[0];for(let o=0;o<c.length;o++)i.push(i[o]+c[o]);return{segLens:c,total:n,cum:i}},ke=(e,c)=>{let n=0,i=e.length-2;for(;n<=i;){const o=Math.floor((n+i)/2);if(e[o]<=c&&c<e[o+1])return o;e[o]>c?i=o-1:n=o+1}return Math.max(0,Math.min(e.length-2,n))},gn=(e,c,n,i)=>{const o=ke(n,i),s=e[o],v=e[Math.min(o+1,e.length-1)],g=c[o]||1,j=Math.max(0,Math.min(1,(i-n[o])/g)),h=[];for(let l=0;l<=o;l++)h.push(e[l]);if(j>0&&j<1){const l=s[0]+(v[0]-s[0])*j,r=s[1]+(v[1]-s[1])*j;h.push([l,r])}return h};class fn{constructor(c,n,i,o={}){$(this,"points");$(this,"simplified");$(this,"segLens");$(this,"total");$(this,"cum");$(this,"duration");$(this,"startTime");$(this,"state");$(this,"config");$(this,"animationFrameId",null);this.onUpdate=n,this.onComplete=i,this.config={speedMps:4e3,minDuration:2500,maxDuration:8e3,targetFps:60,updateThreshold:.01,minDistance:5,...o},this.points=c,this.simplified=hn(c,this.config.minDistance);const{segLens:s,total:v,cum:g}=yn(this.simplified);this.segLens=s,this.total=v,this.cum=g;let j=this.total/this.config.speedMps*1e3;this.duration=Math.max(this.config.minDuration,Math.min(this.config.maxDuration,j)),this.state={lastUpTo:-1,lastT:0,frameCount:0,lastFrameTime:0},this.startTime=performance.now()}start(){if(this.total<=0){this.onUpdate([]),this.onComplete();return}this.onUpdate([this.simplified[0]]),this.animationFrameId=requestAnimationFrame(this.step.bind(this))}stop(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}step(c){const n=1e3/this.config.targetFps;if(c-this.state.lastFrameTime<n&&this.state.frameCount>0){this.animationFrameId=requestAnimationFrame(this.step.bind(this));return}this.state.lastFrameTime=c,this.state.frameCount++;const i=c-this.startTime,o=Math.min(1,i/this.duration);if(o>=1){this.onUpdate(this.simplified),this.animationFrameId=null,this.onComplete();return}const s=o*this.total,v=ke(this.cum,s);if(v===this.state.lastUpTo&&Math.abs(o-this.state.lastT)<this.config.updateThreshold&&o<.98){this.animationFrameId=requestAnimationFrame(this.step.bind(this));return}this.state.lastUpTo=v,this.state.lastT=o;const g=gn(this.simplified,this.segLens,this.cum,s);this.onUpdate(g),this.animationFrameId=requestAnimationFrame(this.step.bind(this))}}const _n=e=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 58 58",...e},a.createElement("g",{fill:"none",fillRule:"nonzero"},a.createElement("path",{fill:"#e64c3c",d:"M57.44 29.6c-11.88 14.2-32.78-3.93-44.27 11.64l-.66-2.34v-.01L5.64 14.31l-.65-2.34C16.48-3.6 37.39 14.53 49.26.33c.58-.7 1.13-.4 1.01.62l-.19 1.43a140.47 140.47 0 0 1-3.36 16.98c-.01.28.1.55.31.74a49.28 49.28 0 0 0 9.82 6.93l.82.39c.46.2.35 1.48-.23 2.18"}),a.createElement("path",{fill:"#e64c3c",d:"M57.44 29.6c-11.88 14.2-32.78-3.93-44.27 11.64-.22-.78-1.95-.87-2.17-1.65v-.01L4.13 15c-.22-.78 1.08-2.25.86-3.03C16.48-3.6 37.39 14.53 49.26.33c.58-.7 1.13-.4 1.01.62l-.19 1.43a140.47 140.47 0 0 1-3.36 16.98c-.01.28.1.55.31.74a49.28 49.28 0 0 0 9.82 6.93l.82.39c.46.2.35 1.48-.23 2.18"}),a.createElement("path",{fill:"#cf976a",d:"m1.76 9.95.14-.04a2.41 2.41 0 0 1 2.97 1.67l12.2 43.69a1.93 1.93 0 0 1-1.33 2.38l-1.07.3a1.93 1.93 0 0 1-2.38-1.34L.09 12.92a2.41 2.41 0 0 1 1.67-2.97"}))),xn=e=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 60 60",...e},a.createElement("g",{fill:"none",fillRule:"nonzero"},a.createElement("path",{fill:"#e64c3c",d:"M58.44 30.6c-11.88 14.2-32.78-3.93-44.27 11.64l-.66-2.34v-.01L6.64 15.31l-.65-2.34C17.48-2.6 38.39 15.53 50.26 1.33c.58-.7 1.13-.4 1.01.62l-.19 1.43a140.47 140.47 0 0 1-3.36 16.98c-.01.28.1.55.31.74a49.28 49.28 0 0 0 9.82 6.93l.82.39c.46.2.35 1.48-.23 2.18"}),a.createElement("path",{fill:"#cad9fc",d:"M58.44 30.6c-.65.78-1.37 1.5-2.15 2.15-10.83 8.99-27.3-2.22-38.4 5.76h-.01a17.26 17.26 0 0 0-3.71 3.73c-.22-.78-1.95-.87-2.17-1.65v-.01l-.06-.2L5.13 16c-.22-.78 1.08-2.25.86-3.03 5.09-6.89 12.02-7.18 19.19-6.6 7.87.65 16.04 2.35 22.38-2.46 1-.75 1.9-1.62 2.7-2.58.58-.7 1.13-.4 1.01.62l-.19 1.43a140.47 140.47 0 0 1-3.36 16.98c-.01.28.1.55.31.74a49.28 49.28 0 0 0 9.82 6.93l.82.39c.46.2.35 1.48-.23 2.18"}),a.createElement("g",{fill:"#e8edfc"},a.createElement("path",{d:"m56.41 32.61-.12.14c-10.83 8.99-27.3-2.22-38.4 5.76h-.01c-2.07.32-2 3.52-3.88 4.49-2.27-8.12-6.6-18.87-8.87-27-.22-.78 1.08-2.25.86-3.03 5.09-6.89 12.02-7.18 19.19-6.6C33.05 7.02 42.66 7.81 49 3c-.71 4.7-2.07 9.87-3 13.78-.31 1.3-.62 2.56-.96 3.79l-.04.26c-.02.32.11.63.35.85 3.99 3.47 6.87 6.23 10.38 7.98.32.16.63.31.94.44.53.23.4 1.71-.26 2.51"}),a.createElement("path",{d:"m2.76 10.95.14-.04a2.41 2.41 0 0 1 2.97 1.67l12.2 43.69a1.93 1.93 0 0 1-1.33 2.38l-1.07.3a1.93 1.93 0 0 1-2.38-1.34L1.09 13.92a2.41 2.41 0 0 1 1.67-2.97"})),a.createElement("path",{fill:"#fff",d:"m15.68 58.95 1.07-.3.18-.07c-.3-.25-.52-.59-.63-.97L4.09 13.92a2.4 2.4 0 0 1 .92-2.6 2.4 2.4 0 0 0-2.1-.41l-.14.04a2.41 2.41 0 0 0-1.68 2.97l12.2 43.7a1.93 1.93 0 0 0 2.39 1.33"}),a.createElement("path",{fill:"#fff",d:"m2.05 13.65 3.5 12.52 8.71 31.17-1.92.54-8.71-31.17L.13 14.2z"}),a.createElement("g",{fill:"#428dff"},a.createElement("path",{d:"M2.44 18.74a1 1 0 0 0 .69-1.23l-1.08-3.86-1.92.54 1.07 3.85a1 1 0 0 0 1.24.7M12.34 57.88l1.92-.54-8.98-32.13a1 1 0 0 0-1.92.54zM4.2 21.36a1.05 1.05 0 0 0-.46-.6l-.18-.08a.76.76 0 0 0-.2-.04.64.64 0 0 0-.19-.01l-.2.03c-.25.08-.47.25-.6.47-.26.49-.09 1.09.38 1.37.12.06.24.1.37.11a1 1 0 0 0 1-.5c.13-.22.16-.5.09-.75"}),a.createElement("path",{d:"M15.15 60.02a2.94 2.94 0 0 1-2.81-2.14 1 1 0 1 1 1.92-.54c.14.5.65.79 1.15.65l1.07-.3c.5-.14.78-.65.64-1.15L4.92 12.85c-.22-.75-1-1.19-1.75-.98l-.13.04c-.76.21-1.2.99-.99 1.74a1 1 0 1 1-1.92.54c-.5-1.81.55-3.7 2.37-4.2l.13-.04c1.82-.5 3.7.55 4.21 2.36l12.2 43.7a2.93 2.93 0 0 1-2.02 3.6l-1.07.3c-.26.08-.53.11-.8.11"}),a.createElement("path",{d:"m14.17 43.24-.18-.01a1 1 0 0 1-.79-.72L5.02 13.24a1 1 0 0 1 .16-.86c6.2-8.4 14.95-7.53 23.4-6.69 7.94.8 15.44 1.54 20.91-5 .4-.64 1.2-.9 1.9-.63.25.1 1.05.57.87 2a137.5 137.5 0 0 1-3.54 18.33 44.89 44.89 0 0 0 10.36 7.12c.42.2.72.58.81 1.04.17.95-.08 1.93-.68 2.68-6.16 7.37-14.53 6.53-22.64 5.72-8.27-.82-16.07-1.6-21.6 5.89a1 1 0 0 1-.8.4M7.08 13.18l7.53 26.94c6.1-6.76 14.25-5.95 22.16-5.16 7.93.8 15.43 1.54 20.9-5 .16-.23.26-.5.28-.77a47.74 47.74 0 0 1-10.57-7.33 1.96 1.96 0 0 1-.59-1.99c1.48-5.55 2.59-11.2 3.34-16.9-6.06 6.28-14.03 5.48-21.74 4.71-8.13-.81-15.8-1.58-21.3 5.5m51.17 16.15h.02z"})))),Tn="_locationSVG_2qfwx_1",jn="_buttons_2qfwx_9",En="_button_2qfwx_9",Ln="_selected_2qfwx_43",Rn="_runTitle_2qfwx_47",Sn="_lights_2qfwx_66",wn="_lightsOn_2qfwx_75",Nn="_lightsOff_2qfwx_84",B={locationSVG:Tn,buttons:jn,button:En,selected:Ln,runTitle:Rn,lights:Sn,lightsOn:wn,lightsOff:Nn},bn=({startLon:e,startLat:c,endLon:n,endLat:i})=>t.jsxs(t.Fragment,{children:[t.jsx(fe,{longitude:e,latitude:c,pitchAlignment:"viewport",children:t.jsx("div",{style:{transform:`translate(${-5/2}px,-5px)`,maxWidth:"25px"},children:t.jsx(xn,{className:B.locationSVG})})},"maker_start"),t.jsx(fe,{longitude:n,latitude:i,children:t.jsx("div",{style:{transform:`translate(${-5/2}px,-5px)`,maxWidth:"25px"},children:t.jsx(_n,{className:B.locationSVG})})},"maker_end")]}),Cn=({changeYear:e,thisYear:c})=>{const{years:n}=z(),i=n.slice();return i.push("Total"),t.jsx("ul",{className:B.buttons,children:i.map(o=>t.jsx("li",{className:B.button+` ${o===c?B.selected:""}`,onClick:()=>{e(o)},children:o},`${o}button`))})},In=({setLights:e,lights:c})=>t.jsx("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group  "+B.lights,children:t.jsx("button",{className:`${c?B.lightsOn:B.lightsOff}`,onClick:()=>e(!c),children:t.jsx("span",{className:"mapboxgl-ctrl-icon","aria-hidden":"true",title:`Turn ${c?"off":"on"} the Light`})})}),Mn=({title:e,viewState:c,setViewState:n,changeYear:i,geoData:o,thisYear:s,animationTrigger:v})=>{const{countries:g,provinces:j}=z(),h=a.useRef(),[l,r]=a.useState(dt),d=["runs2","animated-run"],[p,y]=a.useState(null),[_,m]=a.useState(!1),x=a.useMemo(()=>on(Yt,Bt),[]),[T,F]=a.useState([]),S=a.useRef(null),u=a.useRef(null),b=a.useMemo(()=>{const E=j.slice();return E.unshift("in","name"),E},[j]),M=a.useMemo(()=>{const E=g.slice();return E.unshift("in","name"),E},[g]);function A(E,N){E.getStyle().layers.forEach(C=>{d.includes(C.id)||(N?E.setLayoutProperty(C.id,"visibility","visible"):E.setLayoutProperty(C.id,"visibility","none"))})}const G=a.useCallback(E=>{if(E!==null){const N=E.getMap();N.on("data",R=>{R.dataType!=="style"||h.current||(h.current=E,A(N,l))})}if(h.current){const N=h.current.getMap();A(N,l)}},[h,l]);o.features.length;const V=(c.zoom??0)<=3;a.useEffect(()=>{},[V,Re,p,_]);let Y=o;const{isSingleRun:k,startLon:U,startLat:Z,endLon:ie,endLat:ae}=a.useMemo(()=>{const E=o.features.length===1&&o.features[0].geometry.coordinates.length;let N=0,R=0,C=0,W=0;if(E){const re=o.features[0].geometry.coordinates;[N,R]=re[0],[C,W]=re[re.length-1]}return{isSingleRun:E,startLon:N,startLat:R,endLon:C,endLat:W}},[o]),se=a.useMemo(()=>!k&&!V?[2,2]:[2,0],[k,V]),q=a.useCallback(({viewState:E})=>{n(E)},[n]),f=a.useMemo(()=>({width:"100%",height:lt,maxWidth:"100%"}),[]),w=a.useMemo(()=>({position:"absolute",marginTop:"29.2px",right:"0px",opacity:.3}),[]);a.useEffect(()=>{const E=()=>{h.current&&h.current.getMap().resize()};return document.addEventListener("fullscreenchange",E),()=>{document.removeEventListener("fullscreenchange",E)}},[]);const L=a.useCallback(()=>{if(!k)return;const E=o.features[0].geometry.coordinates;!E||E.length<2||(S.current&&S.current.stop(),S.current=new fn(E,F,()=>{S.current=null}),S.current.start())},[o,k]);a.useEffect(()=>{var R,C;if(!k)return;const E=o.features[0].geometry.coordinates,N=`${E.length}-${(R=E[0])==null?void 0:R.join(",")}-${(C=E[E.length-1])==null?void 0:C.join(",")}`;return N&&N!==u.current&&(u.current=N,L()),()=>{S.current&&S.current.stop()}},[o,k,L]),a.useEffect(()=>{v&&v>0&&k&&L()},[v,k,L]);const O=a.useCallback(()=>{k&&L()},[k,L]);return t.jsxs(He,{...c,onMove:q,onClick:O,style:f,mapStyle:x,ref:G,cooperativeGestures:an(),mapboxAccessToken:at,children:[t.jsx(Cn,{changeYear:i,thisYear:s}),t.jsxs(_e,{id:"data",type:"geojson",data:Y,children:[t.jsx(ee,{id:"province",type:"fill",paint:{"fill-color":Ft},filter:b}),t.jsx(ee,{id:"countries",type:"fill",paint:{"fill-color":Pt,"fill-opacity":["case",["==",["get","name"],"中国"],.1,.5]},filter:M}),t.jsx(ee,{id:"runs2",type:"line",paint:{"line-color":["get","color"],"line-width":V&&l?1:2,"line-dasharray":se,"line-opacity":k||V||!l?1:rt,"line-blur":1},layout:{"line-join":"round","line-cap":"round"}})]}),k&&T.length>0&&t.jsx(_e,{id:"animated-run",type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{color:"#ff4d4f"},geometry:{type:"LineString",coordinates:T}}]},children:t.jsx(ee,{id:"animated-run",type:"line",paint:{"line-color":["get","color"],"line-width":3,"line-opacity":1},layout:{"line-join":"round","line-cap":"round"}})}),k&&t.jsx(bn,{startLat:Z,startLon:U,endLat:ae,endLon:ie}),t.jsx("span",{className:B.runTitle,children:e}),t.jsx(Ge,{style:w}),t.jsx(In,{setLights:r,lights:l}),t.jsx(Ve,{showCompass:!1,position:"bottom-right",style:{opacity:.3}})]})},kn="_tableContainer_h5olg_2",An="_runTable_h5olg_7",Dn="_runRow_h5olg_68",On="_selected_h5olg_89",Fn="_runDate_h5olg_98",Q={tableContainer:kn,runTable:An,runRow:Dn,selected:On,runDate:Fn},Pn=({elementIndex:e,locateActivity:c,run:n,runIndex:i,setRunIndex:o})=>{const s=(n.distance/1e3).toFixed(2),v=n.average_speed?Ne(n.average_speed):null,g=n.average_heartrate,j=zt(n.moving_time),h=()=>{if(i===e){o(-1),c([]);return}o(e),c([n.run_id])};return t.jsxs("tr",{className:`${Q.runRow} ${i===e?Q.selected:""}`,onClick:h,children:[t.jsx("td",{children:ye(n)}),t.jsx("td",{children:s}),he,v&&t.jsx("td",{children:v}),t.jsx("td",{children:g&&g.toFixed(0)}),t.jsx("td",{children:j}),t.jsx("td",{className:Q.runDate,children:n.start_date_local})]},n.start_date_local)},$n=({runs:e,locateActivity:c,setActivity:n,runIndex:i,setRunIndex:o})=>{const[s,v]=a.useState(""),g=a.useMemo(()=>{const h=(m,x)=>s==="KM"?m.distance-x.distance:x.distance-m.distance,l=(m,x)=>s==="Elev"?(m.elevation_gain??0)-(x.elevation_gain??0):(x.elevation_gain??0)-(m.elevation_gain??0),r=(m,x)=>s==="Pace"?m.average_speed-x.average_speed:x.average_speed-m.average_speed,d=(m,x)=>s==="BPM"?(m.average_heartrate??0)-(x.average_heartrate??0):(x.average_heartrate??0)-(m.average_heartrate??0),p=(m,x)=>{const T=ue(m.moving_time),F=ue(x.moving_time);return s==="Time"?T-F:F-T},y=s==="Date"?ne:cn,_=new Map([["KM",h],["Elev",l],["Pace",r],["BPM",d],["Time",p],["Date",y]]);return _.delete("Elev"),_},[s]),j=a.useCallback(h=>{const l=h.target.innerHTML,r=g.get(l);o(-1),v(s===l?"":l),n(e.sort(r))},[g,s,e,o,n]);return t.jsx("div",{className:Q.tableContainer,children:t.jsxs("table",{className:Q.runTable,cellSpacing:"0",cellPadding:"0",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{}),Array.from(g.keys()).map(h=>t.jsx("th",{onClick:j,children:h},h))]})}),t.jsx("tbody",{children:e.map((h,l)=>t.jsx(Pn,{elementIndex:l,locateActivity:c,run:h,runIndex:i,setRunIndex:o},h.run_id))})]})})},Hn=a.lazy(()=>oe(ge,"./github.svg")),Gn=a.lazy(()=>oe(ge,"./grid.svg")),Vn=()=>t.jsx("div",{id:"svgStat",children:t.jsxs(a.Suspense,{fallback:t.jsx("div",{className:"text-center",children:"Loading..."}),children:[t.jsx(Hn,{className:"mt-4 h-auto w-full"}),t.jsx(Gn,{className:"mt-4 h-auto w-full"})]})}),Yn=({year:e,onClick:c})=>{const{years:n}=z(),i=a.useMemo(()=>{let s=n.slice();return s.push("Total"),s=s.filter(v=>v!==e),s.unshift(e),s},[n,e]),o=a.useMemo(()=>vt(n.length,e),[n.length,e]);return t.jsxs("div",{className:"w-full pb-16 pr-16 lg:w-full lg:pr-16",children:[t.jsx("section",{className:"pb-0",children:t.jsxs("p",{className:"leading-relaxed",children:[o,t.jsx("br",{})]})}),t.jsx("hr",{}),i.map(s=>t.jsx(Ie,{year:s,onClick:c},s))]})};function Bn(e,c){const n=a.useRef(e);a.useEffect(()=>{n.current=e},[e]),a.useEffect(()=>{if(c==null)return;const i=setInterval(()=>n.current(),c);return()=>clearInterval(i)},[c])}const Un=()=>{const{siteTitle:e}=ce(),{activities:c,thisYear:n}=z(),[i,o]=a.useState(n),[s,v]=a.useState(-1),[g,j]=a.useState(""),[h,l]=a.useState(!1),[r,d]=a.useState(0),[p,y]=a.useState([]),[_,m]=a.useState({item:n,func:Ee}),[x,T]=a.useState(null),[F,S]=a.useState(0);a.useEffect(()=>{const f=window.location.hash.replace("#","");if(f&&f.startsWith("run_")){const L=parseInt(f.replace("run_",""),10);isNaN(L)||T(L)}const w=()=>{const L=window.location.hash.replace("#","");if(L&&L.startsWith("run_")){const O=parseInt(L.replace("run_",""),10);isNaN(O)||T(O)}else T(null)};return window.addEventListener("hashchange",w),()=>{window.removeEventListener("hashchange",w)}},[]);const u=a.useMemo(()=>nn(c,_.item,_.func,ne),[c,_.item,_.func]),b=a.useMemo(()=>me(u),[u]),M=a.useMemo(()=>je(b),[b]),[A,G]=a.useState(()=>({...M})),[V,Y]=a.useState(b);Bn(()=>{if(!h||r>=p.length){l(!1),Y(b);return}const f=p.length,w=f>=8?Math.ceil(f/8):1,L=Math.min(r+w,f),O=p.slice(0,L);Y(me(O)),d(L),L>=f&&(l(!1),Y(b))},h?300:null);const k=a.useCallback(f=>{if(f.length===0){Y(b);return}const w=f.length>=8?Math.ceil(f.length/8):1;y(f),d(w),l(!0)},[b]),U=a.useCallback((f,w,L)=>{Te(),w!="Year"&&o(n),m({item:f,func:L}),v(-1),j(`${f} ${w} Running Heatmap`),T(null),window.location.hash&&window.history.pushState(null,"",window.location.pathname)},[n]),Z=a.useCallback(f=>{o(f),(A.zoom??0)>3&&M&&G({...M}),U(f,"Year",Ee),l(!1)},[A.zoom,M,U]),ie=a.useCallback(f=>{U(f,"City",en)},[U]),ae=a.useCallback(f=>{U(f,"Title",tn)},[U]),se=a.useCallback(f=>{console.warn("setActivity called but runs are now computed from filters")},[]),q=a.useCallback(f=>{const w=new Set(f),L=f.length?u.filter(R=>w.has(R.run_id)):u;if(!L.length)return;const O=L.sort(ne)[0];if(!O)return;if(f.length===1){const R=f[0],C=u.findIndex(W=>W.run_id===R);v(C)}else v(-1);if(f.length===1){const R=f[0],C=`#run_${R}`;window.location.hash!==C&&window.history.pushState(null,"",C),T(R)}else window.location.hash&&window.history.pushState(null,"",window.location.pathname),T(null);const E=me(L),N=je(E);l(!1),Y(E),f.length===1&&S(R=>R+1),G({...N}),j(Wt(O)),Te()},[u]);return a.useEffect(()=>{x!==null&&c.length>0&&(c.some(w=>w.run_id===x)?q([x]):(console.warn(`Run with ID ${x} not found in activities`),window.history.replaceState(null,"",window.location.pathname),T(null)))},[x,c,q]),a.useEffect(()=>{G(f=>({...f,...M}))},[M]),a.useEffect(()=>{k(u)},[u,k]),a.useEffect(()=>{if(i!=="Total")return;let f=document.getElementById("svgStat");if(!f)return;const w=L=>{const O=L.target;if(O.tagName.toLowerCase()==="path"){const E=O.querySelector("desc");if(E){const R=Number(E.innerHTML);if(!R)return;q([R]);return}const N=O.querySelector("title");if(N){const[R]=N.innerHTML.match(/\d{4}-\d{1,2}-\d{1,2}/)||[`${+n+1}`],C=u.filter(W=>W.start_date_local.slice(0,10)===R).map(W=>W.run_id);if(!C.length)return;q(C)}}};return f.addEventListener("click",w),()=>{f&&f.removeEventListener("click",w)}},[i]),t.jsxs(ve,{children:[t.jsxs("div",{className:"w-full lg:w-1/3",children:[t.jsx("h1",{className:"my-12 mt-6 text-5xl font-extrabold italic",children:t.jsx("a",{href:"/",children:e})}),(A.zoom??0)<=3&&Re?t.jsx(vn,{changeYear:Z,changeCity:ie,changeTitle:ae}):t.jsx(Yn,{year:i,onClick:Z})]}),t.jsxs("div",{className:"w-full lg:w-2/3",id:"map-container",children:[t.jsx(Mn,{title:g,viewState:A,geoData:V,setViewState:G,changeYear:Z,thisYear:i,animationTrigger:F}),i==="Total"?t.jsx(Vn,{}):t.jsx($n,{runs:u,locateActivity:q,setActivity:se,runIndex:s,setRunIndex:v})]}),void 0]})},Wn=()=>{const{siteUrl:e}=ce();return t.jsxs(ve,{children:[t.jsx("h1",{className:"my-2.5 text-5xl font-bold italic",children:"404"}),t.jsx("p",{children:"This page doesn't exist."}),t.jsxs("p",{className:"text-gray-400",children:["If you wanna more message, you could visit"," ",t.jsx("a",{className:"font-bold text-gray-400",href:e,children:e})]})]})},pe=e=>e,zn="_activityList_1xsf5_1",qn="_filterContainer_1xsf5_7",Kn="_summaryContainer_1xsf5_29",Xn="_activityCard_1xsf5_36",Jn="_activityCardFlippable_1xsf5_52",Zn="_cardInner_1xsf5_57",Qn="_flipped_1xsf5_64",ec="_cardFront_1xsf5_68",tc="_cardBack_1xsf5_69",nc="_routeContainer_1xsf5_91",cc="_activityName_1xsf5_102",oc="_activityDetails_1xsf5_108",ic="_chart_1xsf5_117",ac="_smallHomeButton_1xsf5_127",sc="_lifeContainer_1xsf5_142",D={activityList:zn,filterContainer:qn,summaryContainer:Kn,activityCard:Xn,activityCardFlippable:Jn,cardInner:Zn,flipped:Qn,cardFront:ec,cardBack:tc,routeContainer:nc,activityName:cc,activityDetails:oc,chart:ic,smallHomeButton:ac,lifeContainer:sc},rc="_routePreview_g262a_1",lc="_routeSvg_g262a_14",dc="_noRoute_g262a_29",J={routePreview:rc,routeSvg:lc,noRoute:dc},mc=({activities:e,className:c})=>{const n=e.filter(u=>u.summary_polyline);if(n.length===0)return t.jsx("div",{className:`${J.routePreview} ${c||""}`,children:t.jsx("div",{className:J.noRoute,children:"暂无路线数据"})});const i=n.map((u,b)=>{const M=Ce(u),A=["#e74c3c","#3498db","#2ecc71","#f39c12","#9b59b6"],G=A[b%A.length];return{path:M,color:G}}),o=i.flatMap(u=>u.path);if(o.length===0)return t.jsx("div",{className:`${J.routePreview} ${c||""}`,children:t.jsx("div",{className:J.noRoute,children:"路线数据无效"})});const s=o.map(u=>u[1]),v=o.map(u=>u[0]),g=Math.min(...s),j=Math.max(...s),h=Math.min(...v),l=Math.max(...v),r=.001,d={minLat:g-r,maxLat:j+r,minLng:h-r,maxLng:l+r},p=d.maxLng-d.minLng,y=d.maxLat-d.minLat,_=250,m=150,x=10,T=_-2*x,F=m-2*x,S=(u,b)=>{const M=x+(u-d.minLng)/p*T,A=x+(d.maxLat-b)/y*F;return[M,A]};return t.jsx("div",{className:`${J.routePreview} ${c||""}`,children:t.jsxs("svg",{width:_,height:m,className:J.routeSvg,children:[t.jsx("rect",{width:_,height:m,fill:"var(--color-activity-card)"}),i.map((u,b)=>{if(u.path.length<2)return null;const M=u.path.map((A,G)=>{const[V,Y]=S(A[0],A[1]);return`${G===0?"M":"L"} ${V} ${Y}`}).join(" ");return t.jsxs("g",{children:[t.jsx("path",{d:M,fill:"none",stroke:u.color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.8"}),u.path.length>0&&t.jsx("circle",{cx:S(u.path[0][0],u.path[0][1])[0],cy:S(u.path[0][0],u.path[0][1])[1],r:"3",fill:"#2ecc71",stroke:"white",strokeWidth:"1"}),u.path.length>1&&t.jsx("circle",{cx:S(u.path[u.path.length-1][0],u.path[u.path.length-1][1])[0],cy:S(u.path[u.path.length-1][0],u.path[u.path.length-1][1])[1],r:"3",fill:"#e74c3c",stroke:"white",strokeWidth:"1"})]},b)})]})})},X=e=>{const c=e==="all"?"./mol.svg":`./mol_${e}.svg`;return a.lazy(()=>oe(ge,c))},pc=X("running"),uc=X("walking"),vc=X("hiking"),hc=X("cycling"),yc=X("swimming"),gc=X("skiing"),fc=X("all"),_c=({period:e,summary:c,dailyDistances:n,interval:i,activities:o=[]})=>{const[s,v]=a.useState(!1),g=()=>{i==="day"&&o.length>0&&v(!s)},h=(()=>{if(i==="month"){const[y,_]=e.split("-").map(Number),m=new Date(y,_,0).getDate();return Array.from({length:m},(x,T)=>T+1)}else{if(i==="week")return Array.from({length:7},(y,_)=>_+1);if(i==="year")return Array.from({length:12},(y,_)=>_+1)}return[]})().map(y=>({day:y,distance:(n[y-1]||0).toFixed(2)})),l=y=>{const _=Math.floor(y/3600),m=Math.floor(y%3600/60),x=Math.floor(y%60);return`${_}h ${m}m ${x}s`},r=y=>{if(y===0)return"0:00 min/km";const _=60/y,m=Math.round(_*60),x=Math.floor(m/60),T=m%60;return`${x}:${T<10?"0":""}${T} min/km`},d=Math.ceil(Math.max(...h.map(y=>parseFloat(y.distance)))+10),p=Array.from({length:Math.ceil(d/5)+1},(y,_)=>_*5);return t.jsx("div",{className:`${D.activityCard} ${i==="day"?D.activityCardFlippable:""}`,onClick:g,style:{cursor:i==="day"&&o.length>0?"pointer":"default"},children:t.jsxs("div",{className:`${D.cardInner} ${s?D.flipped:""}`,children:[t.jsxs("div",{className:D.cardFront,children:[t.jsx("h2",{className:D.activityName,children:e}),t.jsxs("div",{className:D.activityDetails,children:[t.jsxs("p",{children:[t.jsxs("strong",{children:[H.TOTAL_DISTANCE_TITLE,":"]})," ",c.totalDistance.toFixed(2)," km"]}),he,t.jsxs("p",{children:[t.jsxs("strong",{children:[H.AVERAGE_SPEED_TITLE,":"]})," ",r(c.averageSpeed)]}),t.jsxs("p",{children:[t.jsxs("strong",{children:[H.TOTAL_TIME_TITLE,":"]})," ",l(c.totalTime)]}),c.averageHeartRate!==void 0&&t.jsxs("p",{children:[t.jsxs("strong",{children:[H.AVERAGE_HEART_RATE_TITLE,":"]})," ",c.averageHeartRate.toFixed(0)," bpm"]}),i!=="day"&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsxs("strong",{children:[H.ACTIVITY_COUNT_TITLE,":"]})," ",c.count]}),t.jsxs("p",{children:[t.jsxs("strong",{children:[H.MAX_DISTANCE_TITLE,":"]})," ",c.maxDistance.toFixed(2)," km"]}),t.jsxs("p",{children:[t.jsxs("strong",{children:[H.MAX_SPEED_TITLE,":"]})," ",r(c.maxSpeed)]})]}),["month","week","year"].includes(i)&&t.jsx("div",{className:D.chart,children:t.jsx(Be,{children:t.jsxs(Ue,{data:h,margin:{top:20,right:20,left:-20,bottom:5},children:[t.jsx(We,{strokeDasharray:"3 3",stroke:"var(--color-run-row-hover-background)"}),t.jsx(ze,{dataKey:"day",tick:{fill:"var(--color-run-table-thead)"}}),t.jsx(qe,{label:{value:"km",angle:-90,position:"insideLeft",fill:"var(--color-run-table-thead)"},domain:[0,d],ticks:p,tick:{fill:"var(--color-run-table-thead)"}}),t.jsx(Ke,{formatter:y=>`${y} km`,contentStyle:{backgroundColor:"var(--color-run-row-hover-background)",border:"1px solid var(--color-run-row-hover-background)",color:"var(--color-run-table-thead)"},labelStyle:{color:"var(--color-primary)"}}),t.jsx(Xe,{dataKey:"distance",fill:"var(--color-primary)"})]})})})]})]}),i==="day"&&o.length>0&&t.jsx("div",{className:D.cardBack,children:t.jsx("div",{className:D.routeContainer,children:t.jsx(mc,{activities:o})})})]})})},xc=()=>{const[e,c]=a.useState("month"),[n,i]=a.useState("all"),[o,s]=a.useState([]);a.useEffect(()=>{const r=new Set(te.map(p=>p.type));r.has("Run")&&(r.delete("Run"),r.add("running")),r.has("Walk")&&(r.delete("Walk"),r.add("walking")),r.has("Ride")&&(r.delete("Ride"),r.add("cycling"));const d=[...r];d.unshift("all"),s(d)},[]);const v=Ye(),g=r=>{c(r)},j=r=>{const[d,p,y]=r.split(":").map(Number);return d*3600+p*60+y},l=((r,d)=>te.filter(p=>d==="all"?!0:d==="running"?p.type==="running"||p.type==="Run":d==="walking"?p.type==="walking"||p.type==="Walk":d==="cycling"?p.type==="cycling"||p.type==="Ride":p.type===d).reduce((p,y)=>{const _=new Date(y.start_date_local);let m,x;switch(r){case"year":m=_.getFullYear().toString(),x=_.getMonth();break;case"month":m=`${_.getFullYear()}-${(_.getMonth()+1).toString().padStart(2,"0")}`,x=_.getDate()-1;break;case"week":{const u=new Date(_.valueOf());u.setDate(u.getDate()+4-(u.getDay()||7));const b=new Date(u.getFullYear(),0,1),M=Math.ceil(((u.getTime()-b.getTime())/864e5+1)/7);m=`${u.getFullYear()}-W${M.toString().padStart(2,"0")}`,x=(_.getDay()+6)%7;break}case"day":m=_.toLocaleDateString("zh").replaceAll("/","-"),x=0;break;default:m=_.getFullYear().toString(),x=0}p[m]||(p[m]={totalDistance:0,totalTime:0,totalElevationGain:0,count:0,dailyDistances:[],maxDistance:0,maxSpeed:0,location:"",totalHeartRate:0,heartRateCount:0,activities:[]});const T=y.distance/1e3,F=j(y.moving_time),S=F>0?T/(F/3600):0;return p[m].totalDistance+=T,p[m].totalTime+=F,y.average_heartrate&&(p[m].totalHeartRate+=y.average_heartrate,p[m].heartRateCount+=1),p[m].count+=1,r==="day"&&p[m].activities.push(y),p[m].dailyDistances[x]=(p[m].dailyDistances[x]||0)+T,T>p[m].maxDistance&&(p[m].maxDistance=T),S>p[m].maxSpeed&&(p[m].maxSpeed=S),r==="day"&&(p[m].location=y.location_country||""),p},{}))(e,n);return t.jsxs("div",{className:D.activityList,children:[t.jsxs("div",{className:D.filterContainer,children:[t.jsx("button",{className:D.smallHomeButton,onClick:()=>v("/"),children:kt}),t.jsx("select",{onChange:r=>i(r.target.value),value:n,children:o.map(r=>t.jsx("option",{value:r,children:r},r))}),t.jsxs("select",{onChange:r=>g(r.target.value),value:e,children:[t.jsx("option",{value:"year",children:H.YEARLY_TITLE}),t.jsx("option",{value:"month",children:H.MONTHLY_TITLE}),t.jsx("option",{value:"week",children:H.WEEKLY_TITLE}),t.jsx("option",{value:"day",children:H.DAILY_TITLE}),t.jsx("option",{value:"life",children:"Life"})]})]}),e==="life"&&t.jsx("div",{className:D.lifeContainer,children:t.jsxs(a.Suspense,{fallback:t.jsx("div",{children:"Loading SVG..."}),children:[(n==="running"||n==="Run")&&t.jsx(pc,{}),n==="walking"&&t.jsx(uc,{}),n==="hiking"&&t.jsx(vc,{}),n==="cycling"&&t.jsx(hc,{}),n==="swimming"&&t.jsx(yc,{}),n==="skiing"&&t.jsx(gc,{}),n==="all"&&t.jsx(fc,{})]})}),e!=="life"&&t.jsx("div",{className:D.summaryContainer,children:Object.entries(l).sort(([r],[d])=>{if(e==="day")return new Date(d).getTime()-new Date(r).getTime();if(e==="week"){const[p,y]=r.split("-W").map(Number),[_,m]=d.split("-W").map(Number);return _-p||m-y}else{const[p,y=0]=r.split("-").map(Number),[_,m=0]=d.split("-").map(Number);return _-p||m-y}}).map(([r,d])=>t.jsx(_c,{period:r,summary:{totalDistance:d.totalDistance,averageSpeed:d.totalTime?d.totalDistance/(d.totalTime/3600):0,totalTime:d.totalTime,count:d.count,maxDistance:d.maxDistance,maxSpeed:d.maxSpeed,location:d.location,totalElevationGain:void 0,averageHeartRate:d.heartRateCount>0?d.totalHeartRate/d.heartRateCount:void 0},dailyDistances:d.dailyDistances,interval:e,activities:e==="day"?d.activities:void 0},r))})]})},Tc=()=>t.jsxs(t.Fragment,{children:[t.jsx(Le,{children:t.jsx("html",{lang:"en","data-theme":"dark"})}),t.jsx("div",{className:"w-full",children:t.jsx(xc,{})})]}),jc=Je([{path:"/",element:pe(t.jsx(Un,{}))},{path:"summary",element:pe(t.jsx(Tc,{}))},{path:"*",element:pe(t.jsx(Wn,{}))}],{basename:"/"});Ze.createRoot(document.getElementById("root")).render(t.jsx(Qe.StrictMode,{children:t.jsx(et,{children:t.jsx(tt,{router:jc})})}));
